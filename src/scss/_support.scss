@use './variables'  as *;


/* Check Firefox has() support */
@supports not selector(:has(a)) {	
  .gravity-spot {
    border: 3px dotted red!important;
  }
  .gravity-spot>* {
    display: none;
  }

  .gravity-spot::before {
    content: 'Update  ü¶ä Firefox to use Orbit';
   // text-shadow: 0 0 2px red;
    font-size: 18px;
   // background-color: yellow;
    padding: 10px;
    text-align: center;
  }


}

@supports  not (fill: context-stroke) {

  :not[shape="none"] {
    display: none;
  }
  
}



@container oslice not style(--o-ellipse-x: 1) {
  /* Shown if ratio equals 1*/
  o-slice, o-progress, o-text {
    display: none;
  }
}
@container oslice not style(--o-ellipse-y: 1) {
  /* Shown if ratio equals 1*/
  o-slice, o-progress, o-text {
    display: none;
  }
}

/* bigbang checks */
.bigbangt:has(>*:not(.gravity-spot)) {
  border: 2px dotted red!important;
  width: var(--o-force) !important;
  border-radius: 50%;
}
.bigbangt:has(>*:not(.gravity-spot)) > * {
  filter:grayscale(1) opacity(0.2)
}
.bigbangt:has(>*:not(.gravity-spot))::after {
  content: "‚ö†Ô∏è";
  font-size: 130%;
  animation:  pulse 1.5s infinite;
  z-index: 99;
  filter: drop-shadow(3px 3px 8px rgb(255, 254, 254));
  position: absolute;
}
/* gravity-spot checks */
.gravity-spot:has(>*:not(.orbit, [class*='orbit-'], .gravity-spot)) {
  border: 2px dotted red!important;
  width: var(--o-force) !important;
  border-radius: 50%;
}
.gravity-spot:has(>*:not(.orbit, [class*='orbit-'], .gravity-spot)) > * {
  filter:grayscale(1) opacity(0.2)
}
.gravity-spot:has(> *:not(.orbit, [class*='orbit-'], .gravity-spot))::after {
  content: "‚ö†Ô∏è";
  font-size: 130%;
  animation:  pulse 1.5s infinite;
  z-index: 99;
  filter: drop-shadow(3px 3px 8px rgb(255, 254, 254));
  position: absolute;
}

/* orbit and satellite checks */
.orbit:has(>*:is(.orbit, [class*='orbit-'])), 
[class*='orbit-']:has(>*:is(.orbit, [class*='orbit-'])),
.satellite:has(>*:not(.gravity-spot, .capsule)) {
 border: 2px dotted rgb(255, 81, 0)!important;
}
.orbit:has(>*:is(.orbit, [class*='orbit-']))> *, 
[class*='orbit-']:has(>*:is(.orbit, [class*='orbit-']))> *,
.satellite:has(>*:not(.gravity-spot, .capsule)) > * {
  opacity: 0.4
}
.orbit:has(>*:is(.orbit, [class*='orbit-']))::after, 
[class*='orbit-']:has(>*:is(.orbit, [class*='orbit-']))::after, 
.satellite:has(>*:not(.gravity-spot, .capsule))::after {
  content: "‚ö†Ô∏è";
  animation:  pulse 1.5s infinite;
  z-index: 999;
  filter: drop-shadow(1px 1px 8px rgb(255, 254, 254));
  position: absolute;
}



@keyframes pulse {
  0% {
    transform: scale(1);
    opacity: 0;
  }
  50% {
    opacity: 1;
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
    opacity: 0;
  }
}
